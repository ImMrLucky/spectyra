# Spectyra Secrets - EXAMPLE
# ==========================
# IMPORTANT: Do not commit real secrets!
# Copy this file and replace placeholder values before applying.
#
# Create secrets:
#   kubectl create secret generic spectyra-secrets \
#     --from-literal=DATABASE_URL='postgres://...' \
#     --from-literal=REDIS_URL='redis://...' \
#     -n spectyra
#
# Or use external secrets management (recommended for production):
# - AWS Secrets Manager with External Secrets Operator
# - HashiCorp Vault
# - GCP Secret Manager

apiVersion: v1
kind: Secret
metadata:
  name: spectyra-secrets
  namespace: spectyra
type: Opaque
stringData:
  # ============================================================================
  # DATABASE (Required)
  # ============================================================================
  DATABASE_URL: "postgres://user:password@host:5432/spectyra"
  
  # ============================================================================
  # REDIS (Optional but recommended)
  # ============================================================================
  REDIS_URL: "redis://redis-host:6379"
  
  # ============================================================================
  # SUPABASE AUTH (Optional - for user authentication)
  # ============================================================================
  SUPABASE_URL: "https://your-project.supabase.co"
  SUPABASE_JWT_SECRET: "your-jwt-secret"
  SUPABASE_SERVICE_ROLE_KEY: "your-service-role-key"
  
  # ============================================================================
  # SECURITY (Required for production)
  # ============================================================================
  # 32-byte base64-encoded key for provider key encryption
  MASTER_KEY: "base64-encoded-32-byte-key"
  
  # Admin panel access token
  ADMIN_TOKEN: "secure-admin-token"
  
  # Retention worker secret
  RETENTION_SECRET: "retention-worker-secret"
  
  # ============================================================================
  # STRIPE (Optional - for billing)
  # ============================================================================
  STRIPE_SECRET_KEY: "sk_live_..."
  STRIPE_WEBHOOK_SECRET: "whsec_..."
  
  # ============================================================================
  # EMBEDDINGS TOKEN (Optional - if using authenticated endpoint)
  # ============================================================================
  # EMBEDDINGS_HTTP_TOKEN: "optional-auth-token"
  
  # ============================================================================
  # NLI TOKEN (Optional - if using authenticated endpoint)
  # ============================================================================
  # NLI_HTTP_TOKEN: "optional-auth-token"

---
# Note: For production, consider using:
#
# 1. External Secrets Operator (ESO) with AWS Secrets Manager:
#
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: spectyra-secrets
#   namespace: spectyra
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secrets-manager
#     kind: ClusterSecretStore
#   target:
#     name: spectyra-secrets
#   data:
#     - secretKey: DATABASE_URL
#       remoteRef:
#         key: spectyra/production
#         property: database_url
#
# 2. Sealed Secrets (Bitnami):
#
# kubeseal --format yaml < secret.yaml > sealed-secret.yaml
